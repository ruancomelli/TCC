\newcommand{\predicted}[1]{#1_{\text{pr}}}
% \newcommand{\predicted}[1]{#1^{\,\text{pr}}}
\newcommand{\corrected}[1]{#1_{\text{corr}}}
% \newcommand{\corrected}[1]{#1^{\,\text{corr}}}
\newcommand{\particle}{\mathcal{P}}

\newcommand{\DEM}{DEM}

\newcommand{\Dt}{\Delta t}
% \newcommand{\eqdef}{:=}
\newcommand*{\eqdef}{\mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}%
                     =}
\newcommand{\approximately}{\cong}
\renewcommand{\real}{\mathbb{R}}
\renewcommand{\vec}[1]{\bm{#1}}
\newcommand{\mtx}[1]{#1}
\newcommand{\quaternion}[1]{\bm{#1}}
\newcommand{\drvec}[2]{#2^{\bqty{#1}}}

% Indices
\newcommand{\eqOrder}{p}
\newcommand{\maxDerivOrder}{q}
\newcommand{\taylorOrder}{k}

% Physical quantities
\newcommand{\position}{\vec{r}}
\newcommand{\velocity}{\deriv{1}{\position}}
\newcommand{\acceleration}{\deriv{2}{\position}}
\newcommand{\mass}{m}
\newcommand{\force}{\vec{F}}
\newcommand{\resultingForce}{\force_{\text{R}}}
\newcommand{\linearMomentum}{\vec{p}}

\newcommand{\orientation}{\vec{\varphi}}
\newcommand{\angularVelocity}{\vec{\omega}}
\newcommand{\momentOfInertia}{\mtx{I}}
\newcommand{\torque}{\vec{M}}
\newcommand{\resultingTorque}{\torque_{\text{R}}}
\newcommand{\angularMomentum}{\vec{L}}

\newcommand{\applied}[3]{\underaccent{#2\to#3}{#1}}

\newcommand*{\IsInteger}[3]{%
    \IfStrEq{#1}{ }{%
        #3% is a blank string
    }{%
        \IfInteger{#1}{#2}{#3}%
    }%
}%
\usepackage{xstring}

\newcommand\lagrangeprime[1]{^{%
\ifcase#1 \or\prime\or\prime\prime\or\prime\prime\prime\else\mathrm{\romannumeral #1}\fi}}

\newcommand\deriv[2]{%
\IfInteger{#1}
{
    \ifcase#1 % 0
        #2
    \or % 1
        \dot{#2}
    \or % 2
        \ddot{#2}
    \or % 3
        \dddot{#2}
    \else
        {#2}^{\mathrm{\romannumeral #1}}
	\fi
}{
    {#2}^{\pqty{#1}}
}
}